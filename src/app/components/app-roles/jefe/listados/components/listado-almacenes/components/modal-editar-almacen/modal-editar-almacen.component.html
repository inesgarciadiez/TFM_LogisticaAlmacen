<div class="map">
  <agm-map></agm-map>
</div>

<form [formGroup]="form" (submit)="onSubmit()">
    <div class="modal-content border-0 modal-fondo">
        <div class="modal-header custom">
          <h6 class="modal-title" *ngIf="almacen != undefined">EDITAR ALMACÉN</h6>
          <h6 class="modal-title" *ngIf="almacen == undefined">NUEVO ALMACÉN</h6>
        </div>
        <div class="modal-body p-modal">
            <h6 class="ms-4" *ngIf="almacen != undefined">FORMULARIO EDITAR ALMACÉN</h6>
            <h6 class="ms-4" *ngIf="almacen == undefined">FORMULARIO NUEVO ALMACÉN</h6>
             <div class="flex-row d-flex justify-content-around mb-4 mt-5">
                <div class="col-md-3">
                    <label for="ciudad" class="form-label">Ciudad</label>
                    <input type="text" formControlName="ciudad" class="form-control border-0 sombras" id="ciudad">
                    <span *ngIf="checkCampo('ciudad', 'required')" class="alerta">Debe rellenar este campo</span>
                    <span *ngIf="form.get('ciudad')?.hasError('minlength') && form.get('ciudad')?.touched" class="alerta"> El campo debe tener al menos 3 caracteres</span>
                  </div>
                  <div class="col-md-4">
                    <label for="direccion" class="form-label">Dirección</label>
                    <input type="text" formControlName="direccion" class="form-control border-0 sombras" id="direccion">
                    <span *ngIf="checkCampo('direccion', 'required')" class="alerta">Debe rellenar este campo</span>
                  </div>
                  <div class="col-md-2">
                    <label for="codigo_postal" class="form-label">Código Postal</label>
                    <input type="email" formControlName="codigo_postal" class="form-control border-0 sombras" id="codigo_postal">
                    <span *ngIf="checkCampo('codigo_postal', 'required')" class="alerta">Debe rellenar este campo</span>
                    <span *ngIf="form.get('codigo_postal')?.hasError('minlength') && form.get('codigo_postal')?.touched" class="alerta"> El campo debe tener al menos 5 caracteres</span>
                  </div>
                </div>
               <div class="flex-row mb-5 mt-3 d-flex justify-content-around">
                  <div class="col-md-5">
                    <label for="nombre" class="form-label">Nombre</label>
                    <input type="text" formControlName="nombre" class="form-control border-0 sombras" id="nombre">
                    <span *ngIf="checkCampo('nombre', 'required')" class="alerta">Debe rellenar este campo</span>
                    <span *ngIf="form.get('nombre')?.hasError('minlength') && form.get('nombre')?.touched" class="alerta"> El campo debe tener al menos 3 caracteres</span>
                  </div>
                  <div class="col-md-5">
                        <label for="responsable" class="form-label">Responsable</label> 
                        <ng-select #select formControlName="responsable" bindLabel="nombre"></ng-select>
                </div>
                </div>
        </div>
        <div class="flex-row d-flex justify-content-end gap-2 footer-modal">
            <button [disabled]="form.invalid" type="submit" class="btn btn-guardar" [ngClass]="{ 'disabled-button': form.invalid }"> <i class="fa-solid fa-lg fa-floppy-disk"></i> Guardar</button>
          <button type="button" class="btn btn-secondary" (click)="activeModal.close(null)">Cancelar</button>
        </div>
      </div>
</form>

